# Руководство по настройке проверок AntiCheat

## Введение

Данное руководство содержит детальную информацию по настройке всех проверок AntiCheat плагина. Правильная настройка проверок позволит эффективно обнаруживать читеров и минимизировать количество ложных срабатываний.

## Общие принципы настройки

Перед настройкой отдельных проверок рекомендуется учитывать следующие принципы:

1. **Сбалансированные значения** — слишком строгие настройки приведут к ложным срабатываниям, слишком мягкие — пропустят читеров
2. **Учет пинга игроков** — высокий пинг может вызывать ложные срабатывания, особенно для проверок движения
3. **Постепенная настройка** — начните с настроек по умолчанию и постепенно корректируйте их
4. **Тестирование** — регулярно проверяйте эффективность настроек с помощью тестовых читов (в контролируемой среде)

## Настройка боевых проверок (Combat)

### KillAura

Обнаруживает автоматические удары и невозможные углы атаки.

```yaml
checks:
  combat:
    killaura:
      enabled: true
      max-angle: 120
      max-cps: 22
      consistent-check: true
```

| Параметр | Описание | Рекомендуемое значение |
|----------|----------|------------------------|
| `enabled` | Включает/выключает проверку | `true` |
| `max-angle` | Максимальный угол, под которым игрок может ударить сущность | 120-140 |
| `max-cps` | Максимальное количество кликов в секунду | 18-25 |
| `consistent-check` | Проверяет постоянство времени между ударами | `true` |

**Советы по настройке:**
- Увеличьте `max-angle` до 140 для серверов с высоким пингом
- Увеличьте `max-cps` до 25 для PvP-ориентированных серверов

### Reach

Обнаруживает удары на слишком большом расстоянии.

```yaml
checks:
  combat:
    reach:
      enabled: true
      max-reach: 3.2
```

| Параметр | Описание | Рекомендуемое значение |
|----------|----------|------------------------|
| `enabled` | Включает/выключает проверку | `true` |
| `max-reach` | Максимальное расстояние удара | 3.1-3.5 |

**Советы по настройке:**
- Стандартное расстояние удара в Minecraft — 3 блока
- Для серверов с высоким пингом рекомендуется значение 3.3-3.5
- Для режимов с модификациями боя может потребоваться увеличение до 4.0

### Criticals

Обнаруживает невозможные критические удары.

```yaml
checks:
  combat:
    criticals:
      enabled: true
```

| Параметр | Описание | Рекомендуемое значение |
|----------|----------|------------------------|
| `enabled` | Включает/выключает проверку | `true` |

**Советы по настройке:**
- Эта проверка обычно не требует дополнительных настроек
- Эффективна против читов Critical/Criticals

### AntiKnockBack

Обнаруживает игроков, которые блокируют отбрасывание.

```yaml
checks:
  combat:
    antikb:
      enabled: true
      velocity-threshold: 0.8
```

| Параметр | Описание | Рекомендуемое значение |
|----------|----------|------------------------|
| `enabled` | Включает/выключает проверку | `true` |
| `velocity-threshold` | Минимальное ожидаемое отбрасывание в процентах | 0.7-0.9 |

**Советы по настройке:**
- Уменьшите `velocity-threshold` при высоком пинге
- Может конфликтовать с плагинами, модифицирующими механику отбрасывания

## Настройка проверок движения (Movement)

### Speed

Обнаруживает слишком быстрое перемещение.

```yaml
checks:
  movement:
    speed:
      enabled: true
      max-speed: 0.8
      normalize-velocity: true
      velocity-multiplier: 0.98
```

| Параметр | Описание | Рекомендуемое значение |
|----------|----------|------------------------|
| `enabled` | Включает/выключает проверку | `true` |
| `max-speed` | Максимальная разрешенная скорость | 0.75-0.9 |
| `normalize-velocity` | Нормализация скорости для предотвращения глитчей | `true` |
| `velocity-multiplier` | Множитель для нормализации скорости | 0.96-0.99 |

**Советы по настройке:**
- Учитывайте эффекты зелий скорости при настройке
- Более высокие значения `max-speed` могут потребоваться на серверах с большим количеством телепортаций

### Fly

Обнаруживает невозможные полеты.

```yaml
checks:
  movement:
    fly:
      enabled: true
      check-creative: false
      oscillation-check: true
```

| Параметр | Описание | Рекомендуемое значение |
|----------|----------|------------------------|
| `enabled` | Включает/выключает проверку | `true` |
| `check-creative` | Проверять ли игроков в креативе | `false` |
| `oscillation-check` | Проверка на колебания в воздухе | `true` |

**Советы по настройке:**
- Отключите `oscillation-check` на серверах с сильными лагами
- Может конфликтовать с плагинами, предоставляющими возможность полета

### NoFall

Обнаруживает отсутствие урона от падения.

```yaml
checks:
  movement:
    nofall:
      enabled: true
      enhanced-checks: true
      check-delayed-damage: true
```

| Параметр | Описание | Рекомендуемое значение |
|----------|----------|------------------------|
| `enabled` | Включает/выключает проверку | `true` |
| `enhanced-checks` | Улучшенные проверки на NoFall | `true` |
| `check-delayed-damage` | Проверка на задержку урона от падения | `true` |

**Советы по настройке:**
- Может вызывать ложные срабатывания при высоком пинге
- Отключите `check-delayed-damage` на серверах с сильными лагами

### Jesus

Обнаруживает ходьбу по воде или лаве.

```yaml
checks:
  movement:
    jesus:
      enabled: true
```

| Параметр | Описание | Рекомендуемое значение |
|----------|----------|------------------------|
| `enabled` | Включает/выключает проверку | `true` |

**Советы по настройке:**
- Эта проверка обычно не требует дополнительных настроек
- Может конфликтовать с плагинами, позволяющими ходить по воде

### Phase

Обнаруживает прохождение сквозь блоки.

```yaml
checks:
  movement:
    phase:
      enabled: true
```

| Параметр | Описание | Рекомендуемое значение |
|----------|----------|------------------------|
| `enabled` | Включает/выключает проверку | `true` |

**Советы по настройке:**
- Может вызывать ложные срабатывания при высоком пинге
- Будьте осторожны с серверами, использующими нестандартные телепортации

## Настройка проверок игрока (Player)

### FastBreak

Обнаруживает слишком быстрое разрушение блоков.

```yaml
checks:
  player:
    fastbreak:
      enabled: true
```

| Параметр | Описание | Рекомендуемое значение |
|----------|----------|------------------------|
| `enabled` | Включает/выключает проверку | `true` |

**Советы по настройке:**
- Учитывайте эффекты зелий и зачарования инструментов
- Может требовать дополнительной настройки на нестандартных серверах

### FastPlace

Обнаруживает слишком быструю установку блоков.

```yaml
checks:
  player:
    fastplace:
      enabled: true
      max-blocks-per-second: 14
```

| Параметр | Описание | Рекомендуемое значение |
|----------|----------|------------------------|
| `enabled` | Включает/выключает проверку | `true` |
| `max-blocks-per-second` | Максимальное количество блоков в секунду | 12-16 |

**Советы по настройке:**
- Увеличьте до 16 для опытных строителей
- Высокие значения снижают эффективность против читов FastPlace

### Nuker

Обнаруживает массовое разрушение блоков.

```yaml
checks:
  player:
    nuker:
      enabled: true
```

| Параметр | Описание | Рекомендуемое значение |
|----------|----------|------------------------|
| `enabled` | Включает/выключает проверку | `true` |

**Советы по настройке:**
- Очень эффективна против читов Nuker
- Редко вызывает ложные срабатывания

## Настройка проверок мира (World)

### XRay

Обнаруживает использование XRay.

```yaml
checks:
  world:
    xray:
      enabled: false
```

| Параметр | Описание | Рекомендуемое значение |
|----------|----------|------------------------|
| `enabled` | Включает/выключает проверку | `false` |

**Советы по настройке:**
- Ресурсоемкая проверка, рекомендуется отключить на больших серверах
- Рассмотрите использование специализированных анти-XRay плагинов

### Scaffold

Обнаруживает подозрительное размещение блоков.

```yaml
checks:
  world:
    scaffold:
      enabled: true
```

| Параметр | Описание | Рекомендуемое значение |
|----------|----------|------------------------|
| `enabled` | Включает/выключает проверку | `true` |

**Советы по настройке:**
- Эффективна против читов для автоматического строительства мостов

## Продвинутые настройки

```yaml
advanced:
  packet-analysis: false
  normalize-movement: true
  fix-extreme-velocity: true
  max-velocity:
    x: 4.0
    y: 4.0
    z: 4.0
```

| Параметр | Описание | Рекомендуемое значение |
|----------|----------|------------------------|
| `packet-analysis` | Включить анализ пакетов (требуется ProtocolLib) | `false` |
| `normalize-movement` | Нормализовать движение игроков | `true` |
| `fix-extreme-velocity` | Исправлять экстремальные значения скорости | `true` |
| `max-velocity` | Максимальные значения скорости по осям | x: 4.0, y: 4.0, z: 4.0 |

**Советы по настройке:**
- Включите `packet-analysis` только при наличии ProtocolLib
- Отключите `normalize-movement` при конфликтах с другими плагинами
- Увеличьте значения `max-velocity` при использовании плагинов с телепортацией

## Пороги наказаний

```yaml
punishments:
  thresholds:
    killaura:
      kick: 15
      ban: 30
    speed:
      kick: 20
      ban: 40
    fly:
      kick: 15
      ban: 30
```

**Советы по настройке:**
- Начните с более высоких порогов и постепенно снижайте их
- Настраивайте пороги индивидуально для каждой проверки
- Рекомендуемые отношения: порог бана = порог кика × 1.5-2

## Заключение

Помните, что идеальные настройки зависят от специфики вашего сервера, установленных плагинов и аудитории игроков. Рекомендуется регулярно пересматривать и корректировать настройки на основе анализа ложных срабатываний и пропущенных читеров. 