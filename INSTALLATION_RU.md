# Руководство по установке и настройке AntiCheat

## Требования
- Minecraft сервер версии 1.20+ (Spigot, Paper или их форки)
- Java 17 или выше
- Права администратора на сервере

## Установка плагина

### Метод 1: Ручная установка
1. Скачайте последнюю версию плагина AntiCheat (.jar файл)
2. Поместите скачанный файл в папку `/plugins` вашего сервера
3. Перезапустите сервер командой `/restart` или вручную
4. После запуска сервера, плагин создаст все необходимые файлы конфигурации

### Метод 2: Установка через консоль сервера
1. Подключитесь к консоли вашего сервера
2. Остановите сервер командой `stop`
3. Загрузите плагин в папку `/plugins` используя wget или другой инструмент:
   ```
   cd plugins
   wget https://example.com/path/to/AntiCheat.jar
   ```
4. Запустите сервер

## Первоначальная настройка

### 1. Настройка прав
Для правильной работы плагина, необходимо настроить права для администраторов и модераторов. Это можно сделать с помощью любого плагина для управления правами (например, LuckPerms).

#### Основные разрешения:
- `anticheat.admin` - полный доступ ко всем функциям плагина
- `anticheat.alerts` - получение уведомлений о нарушениях
- `anticheat.bypass` - игнорирование проверок (для администраторов)

#### Пример настройки в LuckPerms:
```
/lp group admin permission set anticheat.admin true
/lp group moderator permission set anticheat.alerts true
```

### 2. Настройка конфигурации
Основной файл конфигурации находится по пути `/plugins/AntiCheat/config.yml`. После первого запуска плагина, рекомендуется настроить его в соответствии с вашими потребностями.

#### Важные настройки:
- `settings.prefix` - префикс в сообщениях плагина
- `punishments.actions` - настройка действий при обнаружении читов
- `punishments.thresholds` - пороги нарушений для применения наказаний
- `checks` - настройка отдельных проверок

#### Пример основных настроек:
```yaml
settings:
  prefix: '&8[&c&lAntiCheat&8]'
  debug-mode: false
  
punishments:
  actions:
    kick:
      enabled: true
      message: '&cВы были кикнуты за использование читов: %check%'
    
  thresholds:
    speed:
      kick: 20
      ban: 40
```

### 3. Настройка проверок
Раздел `checks` в конфигурации позволяет настроить каждую проверку индивидуально. Рекомендуется начать с настроек по умолчанию и корректировать их по мере необходимости.

#### Пример настройки проверок движения:
```yaml
checks:
  movement:
    speed:
      enabled: true
      max-speed: 0.8
      normalize-velocity: true
    fly:
      enabled: true
      check-creative: false
```

## Проверка работоспособности

После установки и настройки, проверьте работоспособность плагина:

1. Запустите сервер и войдите как администратор
2. Выполните команду `/anticheat info` для проверки версии
3. Включите оповещения: `/anticheat alerts`
4. Попросите кого-то с правами администратора проверить срабатывание, например, включив режим полета в выживании

## Решение проблем

### Плагин не загружается
- Проверьте версию Java на сервере (должна быть 17 или выше)
- Проверьте, что файл .jar не поврежден
- Проверьте логи сервера на наличие ошибок

### Слишком много ложных срабатываний
- Уменьшите чувствительность проверок в config.yml
- Используйте режим "Lenient" для игроков с высоким пингом
- Отключите проверки, вызывающие больше всего ложных срабатываний

### Конфликты с другими плагинами
- Проверьте совместимость с другими плагинами
- Временно отключите плагины, которые могут конфликтовать, для выявления проблемы
- Обновите все плагины до последних версий

## Дополнительная настройка

### Интеграция с Discord
Вы можете настроить отправку уведомлений о нарушениях в Discord:

```yaml
alerts:
  webhook:
    enabled: true
    url: 'https://discord.com/api/webhooks/your_webhook_url'
    username: 'AntiCheat'
```

### Создание пользовательских сообщений
Вы можете настроить собственные сообщения для наказаний:

```yaml
punishments:
  actions:
    kick:
      message: '&cНаш сервер не приветствует использование читов: %check%'
    ban:
      message: '&cВы были забанены за использование читов. Если это ошибка, напишите в Discord.'
```

### Настройка для больших серверов
Для серверов с большим количеством игроков рекомендуется оптимизировать настройки:

```yaml
advanced:
  packet-analysis: false
  normalize-movement: true
  fix-extreme-velocity: true
```

## Обновление плагина
1. Сделайте резервную копию папки `/plugins/AntiCheat`
2. Загрузите новую версию плагина в папку `/plugins`
3. Перезапустите сервер
4. Проверьте файл конфигурации на наличие новых опций 